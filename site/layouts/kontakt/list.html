{{ define "main" }}

<section id="contact">
  <picture class="contact-image">
    <source media="(max-width: 960px)" srcset="{{ .Params.image | safeURL }}?nf_resize=fit&w=350,
              {{ .Params.image | safeURL }}?nf_resize=fit&w=700 2x" />
    <source srcset="{{ .Params.image | safeURL }}?nf_resize=fit&w=1300,
              {{ .Params.image | safeURL }}?nf_resize=fit&w=2600 2x" />
    <img src="{{ .Params.image_category | safeURL }}?nf_resize=fit&w=1300" alt="Kim und Stefanie - Teamfoto"
      loading="lazy" />
  </picture>
  <div class="content">
    <form name="Kontaktformular" method="POST" data-netlify="true">
      <h2 class="form-subtitle">Ich melde mich bezüglich...</h2>
      <div id="contact-form-subject" class="form-group radio-group">
        {{ range .Site.Sections }}
        {{ if eq .Name "Angebot" }}
        {{ range .Sections}}
        <span class="radio-group-subtitle">{{ .Title }}</span>
        {{ range .Pages }}
        <label><input id="radio-button-{{ .Title }}" type="radio" name="Betreff" value="{{.Title}}"
            required><span>{{.Title}}</span></label>
        {{ end }}
        {{ end }}
        {{ end}}
        {{ end }}
        <span class="radio-group-subtitle">Sonstiges</span>
        <label><input type="radio" name="Betreff" value="Fragen, Anliegen und Rückmeldungen" checked
            required><span>Fragen,
            Anliegen und Rückmeldungen</span></label>
      </div>
      <h2 class="form-subtitle">Bei...</h2>
      <div class="form-group radio-group">
        <label><input type="radio" name="Empfänger" value="Yoma Hebammen" checked required><span>Yoma
            Hebammen</span></label>
        <label><input id="radio-button-Stefanie Jones" type="radio" name="Empfänger" value="Stefanie Jones" required><span>Stefanie Jones</span></label>
        <label><input id="radio-button-Kim Heiniger" type="radio" name="Empfänger" value="Kim Heiniger" required><span>Kim Heiniger</span></label>
      </div>
      <h2 class="form-subtitle">Kontaktdaten</h2>
      <div class="form-group contact-data">
        <div class="form-row">
          <label for="input-name">Vorname*</label>
          <input id="input-name" type="text" name="Vorname" required>
        </div>
        <div class="form-row">
          <label for="input-lastname">Name*</label>
          <input id="input-lastname" type="text" name="Nachname" required>
        </div>
        <div class="form-row">
          <label for="input-address">Adresse</label>
          <input id="input-address" type="text" name="Adresse">
        </div>
        <div class="form-row">
          <label for="input-email">Email*</label>
          <input id="input-email" type="email" name="Email" required>
        </div>
        <div class="form-row">
          <label for="input-phone">Telefon</label>
          <input id="input-phone" type="tel" name="Telefon">
        </div>
        <div class="form-row">
          <label for="input-birthdate">Errechneter Geburtstermin</label>
          <input id="input-birthdate" type="date" name="Errechneter Geburtstermin">
        </div>
      </div>
      <h2 class="form-subtitle">Nachricht</h2>
      <div class="form-group">
        <textarea placeholder="Schreib uns was..." name="Nachricht"></textarea>
      </div>
      <h2 class="form-subtitle">Datenschutz</h2>
      <div class="form-group radio-group">
        <div class="form-row">
          <label>
            <input type="checkbox" name="Datenschutz" value="Einvertanden" required>
            <span>Ich erkläre mich hiermit einverstanden, dass Yoma Hebammen die oben eingetragenen Personendaten gemäss <a href='{{ "/datenschutz/" | relURL }}' target="_blank">Datenschutzbestimmung</a> verarbeiten darf, um meine Anfrage zu beantworten bzw. meinen Auftrag zu bearbeiten.*</span>
          </label>
        </div>
        <div class="form-row">
          <span class="form-info">* = benötigte Angaben</span>
        </div>
      </div>
      <button type="submit">Senden</button>
    </form>
  </div>

  <script>
    const preFillRadioButtonGroup = (group) => {
      const params = window.location.search;
      if (!params) {
        return;
      }
      const urlParams = new URLSearchParams(params);
      const param = urlParams.get(group);
      if (!param) {
        return;
      }
      const radioButtonId = "radio-button-" + param;
      const radioButton = document.getElementById(radioButtonId);
      radioButton.checked = true;
    };
    preFillRadioButtonGroup("angebot");
    preFillRadioButtonGroup("bei");
  </script>

</section>

{{ end }}